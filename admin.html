<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ê–¥–º–∏–Ω–∫–∞ ‚Äî –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .admin-wrapper {
      max-width: 720px;
      margin: 40px auto;
      padding: 0 20px;
    }
    .admin-output {
      background: #f4f6f8;
      border: 1px solid #ccc;
      padding: 16px;
      margin-top: 24px;
      border-radius: 8px;
      font-size: 14px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <main class="admin-wrapper">
    <h1>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞</h1>

    <form id="orderForm" class="registration-form">
      <section class="form-group">
        <label for="id">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞</label>
        <input type="text" id="id" name="id" placeholder="000001" required />
      </section>

      <section class="form-group">
        <label for="city">–ì–æ—Ä–æ–¥</label>
        <input type="text" id="city" name="city" required />
      </section>

      <section class="form-group">
        <label for="status">–°—Ç–∞—Ç—É—Å –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫</label>
        <select id="status" name="status">
          <option value="–ü—Ä–∏—ë–º –∑–∞—è–≤–æ–∫ –æ—Ç–∫—Ä—ã—Ç">–û—Ç–∫—Ä—ã—Ç</option>
          <option value="–ü—Ä–∏—ë–º –∑–∞—è–≤–æ–∫ –∑–∞–∫—Ä—ã—Ç">–ó–∞–∫—Ä—ã—Ç</option>
        </select>
      </section>

      <section class="form-group">
        <label for="object">–û–±—ä–µ–∫—Ç</label>
        <input type="text" id="object" name="object" required />
      </section>

      <section class="form-group">
        <label for="client">–ó–∞–∫–∞–∑—á–∏–∫</label>
        <input type="text" id="client" name="client" required />
      </section>

      <section class="form-group">
        <label for="price">–°—É–º–º–∞ –ø–æ–¥—Ä—è–¥–∞</label>
        <input type="text" id="price" name="price" required />
      </section>

      <section class="form-group">
        <label for="datePublished">–†–∞–∑–º–µ—â–µ–Ω–æ</label>
        <input type="date" id="datePublished" name="datePublished" required />
      </section>

      <section class="form-group">
        <label for="dateUpdated">–û–±–Ω–æ–≤–ª–µ–Ω–æ</label>
        <input type="date" id="dateUpdated" name="dateUpdated" required />
      </section>

      <section class="form-group">
        <label for="dateEnd">–û–∫–æ–Ω—á–∞–Ω–∏–µ –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫</label>
        <input type="date" id="dateEnd" name="dateEnd" required />
      </section>

      <section class="form-group">
        <label for="contactPrice">–¶–µ–Ω–∞ –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç</label>
        <input type="text" id="contactPrice" name="contactPrice" required />
      </section>

      <section class="form-group">
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã)</label>
        <textarea id="description" name="description" rows="4"></textarea>
      </section>

      <section class="form-group">
        <label for="adminNote">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</label>
        <textarea id="adminNote" name="adminNote" rows="3"></textarea>
      </section>

      <button type="submit" class="cta-button">–ê–∫—Ç–∏–≤–∞—Ü–∏—è</button>
    </form>

    <div id="outputJSON" class="admin-output"></div>
    <div id="outputHTML" class="admin-output"></div>
  </main>

  <script>
    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const form = e.target;
      const id = form.id.value;
      const filename = `order-${id}.html`;

      const city = form.city.value;
      const status = form.status.value;
      const object = form.object.value;
      const client = form.client.value;
      const price = form.price.value;
      const datePublished = form.datePublished.value;
      const dateUpdated = form.dateUpdated.value;
      const dateEnd = form.dateEnd.value;
      const contactPrice = form.contactPrice.value;
      const description = form.description.value;
      const adminNote = form.adminNote.value;

      const json = {
        id: id,
        title: object,
        region: "",
        city: city,
        price: price,
        link: filename
      };

      const html = `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${object}</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="main-header">
    <div class="logo-block">
      <img class="logo" src="brand-logo.png" alt="–ë–∞–∑–∞ –°—É–±–ø–æ–¥—Ä—è–¥">
    </div>
    <nav class="main-nav">
      <a class="nav-button" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    </nav>
  </header>
  <main class="orders-section">
    <article class="order-card">
      <div class="left">
        <span class="badge">–ì–ï–ù–ü–û–î–†–Ø–î</span>
        <p><em>–ü—Ä—è–º—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</em></p>
        <p><strong>‚Ññ ${id}</strong> <span class="badge-region">üìç ${city}</span></p>
        <p style="color: green; font-weight: bold;">${status}</p>
        <p><span class="label">–û–±—ä–µ–∫—Ç</span><br>${object}</p>
        <p><span class="label">–ó–∞–∫–∞–∑—á–∏–∫</span><br>${client}</p>
      </div>
      <div class="right">
        <p class="price-badge">${price}</p>
        <div class="date-block">
          –†–∞–∑–º–µ—â–µ–Ω–æ: <strong>${datePublished}</strong><br>
          –û–±–Ω–æ–≤–ª–µ–Ω–æ: <strong>${dateUpdated}</strong><br>
          –û–∫–æ–Ω—á–∞–Ω–∏–µ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–æ–∫: <strong>${dateEnd}</strong>
        </div>
      </div>
    </article>

    <section class="support-notice">
      <h3>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
      <p>${description}</p>
    </section>

    <section class="support-banner">
      <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</h3>
      <p>${adminNote}</p>
    </section>

    <div style="text-align:center">
      <a class="cta-button" href="payment.html?order=${id}">–û–ø–ª–∞—Ç–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –∑–∞ ${contactPrice}</a>
    </div>
  </main>
  <footer>
    <div style="margin-top: 40px; text-align: center; color: #666;">
      ¬© 2025 –ë–∞–∑–∞ –°—É–±–ø–æ–¥—Ä—è–¥
    </div>
  </footer>
</body>
</html>`;

      document.getElementById("outputJSON").textContent = `üì¶ JSON (–¥–æ–±–∞–≤–∏—Ç—å –≤ orders.json):\n` + JSON.stringify(json, null, 2);
      document.getElementById("outputHTML").textContent = `üìÑ HTML (${filename}):\n` + html;
    });
  </script>
</body>
</html>
